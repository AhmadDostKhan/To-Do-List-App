<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Organize and manage your daily tasks with our responsive To-Do List App. Easily add, mark complete, or remove tasks to stay productive."
    />
    <meta
      name="keywords"
      content="to-do list app, task organizer, productivity tool, manage tasks, online task manager, simple to-do app"
    />
    <meta name="author" content="Ahmad Dost Khan Bettani" />

    <!-- Open Graph Tags -->
    <meta
      property="og:title"
      content="To-Do List App - Manage Your Tasks Easily"
    />
    <meta
      property="og:description"
      content="A simple, responsive To-Do List App to help you organize tasks and boost productivity. Try it now!"
    />
    <meta property="og:image" content="./src/appImage.webp" />
    <meta property="og:url" content="https://example.com/todo-list" />
    <meta property="og:type" content="website" />

    <!-- Favicon -->
    <link rel="icon" href="./src/favicon.jpg" />

    <!-- Remix Icon -->
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="style.css" />

    <title>To Do List App - Organize and Manage Your Tasks Easily</title>

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "To-Do List App",
        "url": "https://example.com/todo-list",
        "description": "A simple and responsive To-Do List App to organize your tasks efficiently.",
        "applicationCategory": "Productivity",
        "offers": {
          "@type": "Offer",
          "url": "https://example.com/todo-list",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    </script>
  </head>
  <body>
    <main>
      <div class="card">
        <h1>To Do List App<i class="ri-list-check-3"></i></h1>
        <div class="Input-button">
          <input class="InputValue" type="text" placeholder="Add your task" />
          <button class="Add">Add</button>
        </div>
        <hr />
        <span>
          <p>Completed</p>
          <p>Your Task</p>
          <p>Cancel</p>
        </span>
        <hr />

        <ul class="ItemList">
          <!-- Items will be added dynamically -->
        </ul>
      </div>
    </main>
    <script>
      // JavaScript Code
      let input = document.querySelector(".InputValue");
      let addButton = document.querySelector(".Add");
      let list = document.querySelector(".ItemList");

      // Load existing data from local storage or initialize empty array
      let itemsArray = JSON.parse(localStorage.getItem("items")) || [];

      // Function to render the list
      function displayList() {
        list.innerHTML = ""; // Clear the current list
        itemsArray.forEach((item, index) => {
          list.innerHTML += `
            <li>
              <div>
                <input type="checkbox" class="checkbox"
                ${item.completed ? "checked" : ""}
                onclick="toggleChecked(${index})" />
                <p class="${item.completed ? "line-through" : ""}">${
            item.text
          }</p>
              </div>
              <i class="ri-close-line" onclick="removeItem(${index})"></i>
            </li>
          `;
        });
      }

      // Add button click event
      addButton.addEventListener("click", function () {
        let inputValue = input.value; // Fetch current input value
        if (inputValue.trim() !== "") {
          // Only add non-empty input values
          itemsArray.push({ text: inputValue, completed: false }); // Add to the array with completed set to false
          saveToLocalStorage(); // Save updated array to local storage
          displayList(); // Update the list
          input.value = "";
          // Clear input field
        } else {
          alert("Empty Task cannot be added!");
        }
      });

      // Function to save data to local storage
      function saveToLocalStorage() {
        localStorage.setItem("items", JSON.stringify(itemsArray));
      }

      // Function to remove an item
      function removeItem(index) {
        itemsArray.splice(index, 1); // Remove the item from the array
        saveToLocalStorage(); // Save updated array to local storage
        displayList(); // Re-render the list
      }

      // Function to toggle the checked state of a task
      function toggleChecked(index) {
        itemsArray[index].completed = !itemsArray[index].completed; // Toggle the completed state
        saveToLocalStorage(); // Save updated array to local storage
        displayList(); // Re-render the list
      }

      // Display the list on page load
      displayList();
    </script>
  </body>
</html>
